{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","hoc/WithAythRedirect.tsx","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileStatus.module.css","components/Profile/Myposts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Myposts/Post/Post.tsx","components/Profile/Myposts/MyPosts.tsx","components/Profile/Myposts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","mapStatetoPropsForRedirect","state","isAuth","auth","withAythRedirect","Component","connect","props","restProps","to","module","exports","ProfileStatus","useState","editMode","status","setState","useEffect","className","s","onChange","e","currentTarget","value","console","log","autoFocus","onBlur","updateStatus","onDoubleClick","ProfileInfo","profile","picture","src","photos","large","alt","Post","wrapper","item","message","like","AddNewPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","name","component","MyPosts","React","memo","postsElement","posts","map","p","title","id","values","addPost","newPostText","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","AuthRedirectComponent","userId","match","params","history","push","getUserProfile","getUserStatus","updateUserStatus","WithUrlDataContainerComponent","withRouter"],"mappings":"+JACe,SAASA,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,ECHS,SAAuCJ,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKP,GAG7B,IAAKG,EAAI,EAAGA,EAAIE,EAAWG,OAAQL,IACjCD,EAAMG,EAAWF,GACbF,EAASQ,QAAQP,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,EDTM,CAA6BJ,EAAQC,GAGlD,GAAIK,OAAOI,sBAAuB,CAChC,IAAIC,EAAmBL,OAAOI,sBAAsBV,GAEpD,IAAKG,EAAI,EAAGA,EAAIQ,EAAiBH,OAAQL,IACvCD,EAAMS,EAAiBR,GACnBF,EAASQ,QAAQP,IAAQ,GACxBI,OAAOM,UAAUC,qBAAqBC,KAAKd,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,IAIzB,OAAOE,E,+BETLW,EAA6B,SAACC,GAAD,MAA0D,CACvFC,OAAQD,EAAME,KAAKD,SAGhB,SAAUE,EAAoBC,GAajC,OAHqCC,YAAQN,EAARM,EATrC,SAA2BC,GAAuC,IACzDL,EAAwBK,EAAxBL,OAAWM,EAD6C,EAChCD,EADgC,YAG7D,OAAKL,EAGE,cAACG,EAAD,eAAeG,IAFX,cAAC,IAAD,CAAUC,GAAI,gB,oBChBjCC,EAAOC,QAAU,CAAC,QAAU,6BAA6B,QAAU,+B,oBCAnED,EAAOC,QAAU,CAAC,OAAS,gC,0CCA3BD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,QAAU,wB,+HC0CvCC,EAlCO,SAACL,GAA8B,IAAD,EACxBM,mBAAS,CAC7BC,UAAU,EACVC,OAAQR,EAAMQ,SAH8B,mBAC3Cd,EAD2C,KACpCe,EADoC,KAKhDC,qBAAW,WACfD,EAAS,2BAAIf,GAAL,IAAWc,OAAQR,EAAMQ,YAC3B,CAACR,EAAMQ,SAeT,OAAO,qBAAKG,UAAWC,IAAEJ,OAAlB,SACDd,EAAMa,SAMJ,uBAAOM,SApBQ,SAACC,GACpBL,EAAS,2BAAIf,GAAL,IAAYc,OAAQM,EAAEC,cAAcC,SAC5CC,QAAQC,IAAIxB,EAAMc,SAkBmBW,WAAW,EAAMC,OAZlC,WACpBX,EAAS,2BAAIf,GAAL,IAAYa,UAAU,KAC9BP,EAAMqB,aAAa3B,EAAMc,SAUsDQ,MAAOtB,EAAMc,SAJxF,8BACI,uBAAMc,cAbI,WAClBb,EAAS,2BAAIf,GAAL,IAAYa,UAAU,MAYtB,qBAA6Cb,EAAMc,OAAnD,YCXDe,EAbK,SAACvB,GACjB,OAAKA,EAAMwB,QAIJ,8BACH,sBAAKb,UAAWC,IAAEa,QAAlB,UACI,qBAAKC,IAAK1B,EAAMwB,QAAQG,OAAOC,MAAOC,IAAI,YAC1C,cAAC,EAAD,CAAerB,OAAQR,EAAMQ,OAAQa,aAAcrB,EAAMqB,oBANtD,cAAC,IAAD,K,4CCGAS,EAXF,SAAC9B,GACV,OAAO,sBAAKW,UAAWC,IAAEmB,QAAlB,UACH,sBAAKpB,UAAWC,IAAEoB,KAAlB,UACI,qBAAKN,IAAK,wEACT1B,EAAMiC,WAEX,yCAAajC,EAAMkC,Y,kBCIdC,EAAsBC,YAAU,CACzCC,KAAM,yBADyBD,EATiB,SAACpC,GACjD,OACI,uBAAMsC,SAAUtC,EAAMuC,aAAtB,UACI,cAACC,EAAA,EAAD,CAAOC,KAAK,cAAcC,UAAU,aACpC,oDA+BGC,EAtBCC,IAAMC,MAAK,SAAC7C,GACxB,IAAI8C,EAAe9C,EAAM+C,MAAMC,KAAI,SAACC,GAAD,OAAO,cAAC,EAAD,CAAiBhB,QAASgB,EAAEC,MAAOhB,KAAMe,EAAEf,MAAhCe,EAAEE,OAQvD,OAAO,gCACH,2CAGA,cAAChB,EAAD,CAAqBG,SATT,SAACc,GACbpD,EAAMqD,QAAQD,EAAOE,gBASrB,qBAAK3C,UAAWC,IAAEmC,MAAlB,SACKD,U,QCKAS,EAAmBxD,aATV,SAACL,GACnB,MAAO,CACHqD,MAAOrD,EAAM8D,YAAYT,UAXR,SAACU,GACtB,MAAO,CACHJ,QAAS,SAACC,GACNG,EAASC,YAAqBJ,QAeVvD,CAA6C4C,GClB9DgB,EAVC,SAAC3D,GAEb,OAAO,gCACH,cAAC,EAAD,CAAawB,QAASxB,EAAMwB,QAAShB,OAAQR,EAAMQ,OAAQa,aAAcrB,EAAMqB,eAE/E,cAACkC,EAAD,Q,gBCyBR,IAAIK,EAAwB/D,aAd5B,SAA0BG,GAEtB,IAAI6D,EAAS7D,EAAM8D,MAAMC,OAAOF,OAOhC,OANKA,GACD7D,EAAMgE,QAAQC,KAAK,UAEvBjE,EAAMkE,eAAeL,GACrB7D,EAAMmE,cAAcN,GAGhB,cAAC,EAAD,2BAAa7D,GAAb,IAAoBwB,QAASxB,EAAMwB,QAAShB,OAAQR,EAAMQ,OAAQa,aAAcrB,EAAMoE,uBAa1FC,EAAgCC,YAAWV,GAChC7D,uBAPO,SAACL,GAAD,MAA6C,CAC/D8B,QAAS9B,EAAM8D,YAAYhC,QAC3BhB,OAAQd,EAAM8D,YAAYhD,UAKU,CACpC0D,mBAAgBC,kBAAeC,sBADpBrE,CAEZsE","file":"static/js/3.5599fd44.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React, {ComponentType} from 'react'\nimport {Redirect} from \"react-router-dom\";\nimport {AppStateType} from \"../components/redux/redux-store\";\nimport {connect} from \"react-redux\";\n\ntype mapStatetoPropsForRedirectType = {\n    isAuth: boolean\n}\nlet mapStatetoPropsForRedirect = (state: AppStateType): mapStatetoPropsForRedirectType => ({\n    isAuth: state.auth.isAuth,\n})\n\nexport function  withAythRedirect<T>(Component: ComponentType<T>){\n    function RedirectComponent(props:mapStatetoPropsForRedirectType) {\n        let {isAuth, ...restProps} = props\n\n        if (!isAuth) {\n            return <Redirect to={'/login'}/>\n        }\n        return <Component {...restProps as T}/>\n    }\n\n    let ConnectedAuthRedirectComponent = connect(mapStatetoPropsForRedirect)(RedirectComponent)\n\n\n    return ConnectedAuthRedirectComponent\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contant\":\"ProfileInfo_contant__2QIyq\",\"picture\":\"ProfileInfo_picture__13Qxy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__1GQPp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1xhAm\",\"wrapper\":\"Post_wrapper__lwSv7\"};","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport s from './ProfileStatus.module.css'\r\n\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    updateStatus: any\r\n}\r\n\r\nconst ProfileStatus = (props: ProfileStatusType) => {\r\n    let [state, setState] = useState({\r\n        editMode: false,\r\n        status: props.status\r\n    })\r\n    useEffect( () => {\r\nsetState({...state,status: props.status})\r\n    },[props.status])\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setState({...state, status: e.currentTarget.value})\r\n        console.log(state.status)\r\n    }\r\n    const activatedMode = () => {\r\n        setState({...state, editMode: true})\r\n\r\n    }\r\n    const deactivatedMode = () => {\r\n        setState({...state, editMode: false})\r\n        props.updateStatus(state.status)\r\n\r\n    }\r\n    return <div className={s.status}>\r\n        {!state.editMode\r\n            ?\r\n            <div>\r\n                <span onDoubleClick={activatedMode}>Status: {state.status} </span>\r\n            </div>\r\n            :\r\n            <input onChange={onStatusChange} autoFocus={true} onBlur={deactivatedMode} value={state.status}/>\r\n        }\r\n    </div>\r\n\r\n}\r\nexport default ProfileStatus","import React from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../common/preloader/preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\ntype ProfileInfoType = {\r\n    profile: any\r\n    status:string\r\n    updateStatus:any\r\n}\r\n\r\nconst ProfileInfo = (props: ProfileInfoType) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return <div>\r\n        <div className={s.picture}>\r\n            <img src={props.profile.photos.large} alt=\"ptcture\"/>\r\n            <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n        </div>\r\n    </div>\r\n\r\n}\r\nexport default ProfileInfo","import React from 'react';\nimport s from './Post.module.css'\n\n\n\nconst Post = (props: any) => {\n    return <div className={s.wrapper}>\n        <div className={s.item}>\n            <img src={'https://ru.fishki.net/picsw/112009/18/bonus/face/face_photo_032.jpg'}/>\n            {props.message}\n        </div>\n        <span >like {props.like}</span>\n    </div>\n}\n\n\nexport default Post\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport s from './MyPosts.module.css'\nimport Post from \"./Post/Post\";\nimport {PropsMType} from \"./MyPostsContainer\";\nimport {reduxForm, Field, InjectedFormProps} from \"redux-form\";\n\nconst AddNewPostForm: React.FC<InjectedFormProps> = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <Field name='newPostText' component='textarea'/>\n            <button>Add post</button>\n        </form>\n    )\n}\n\nexport const AddNewPostReduxForm = reduxForm({\n    form: 'ProfileAddNewPostForm'\n})(AddNewPostForm)\n\nconst MyPosts = React.memo((props: PropsMType) => {\n    let postsElement = props.posts.map((p) => <Post key={p.id} message={p.title} like={p.like}/>);\n//   let newPostElement = React.createRef<HTMLTextAreaElement>()\n\n    let onAddPost = (values: any) => {\n        props.addPost(values.newPostText)\n\n    }\n\n    return <div>\n        <div>\n            My posts\n        </div>\n        <AddNewPostReduxForm onSubmit={onAddPost}/>\n        <div className={s.posts}>\n            {postsElement}\n        </div>\n    </div>\n\n})\n\n\nexport default MyPosts","import { addPostActionCreator, PostType} from \"../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\nimport {Dispatch} from \"redux\";\nimport {AppStateType} from \"../../redux/redux-store\";\n\n\n\ntype mapStateToPropsType = {\n    posts: Array<PostType>\n\n}\n\ntype mapMDispatchToPropsType = {\n    addPost: (newPostText: string) => void\n\n}\n\nexport type PropsMType = mapStateToPropsType & mapMDispatchToPropsType\n\n\nlet mapDispatchToProps = (dispatch: Dispatch): mapMDispatchToPropsType => {\n    return {\n        addPost: (newPostText: string) => {\n            dispatch(addPostActionCreator(newPostText))\n        },\n\n    }\n}\n\nlet mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        posts: state.profilePage.posts,\n\n    }\n\n}\n\n\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from 'react';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport {MyPostsContainer} from \"./Myposts/MyPostsContainer\";\nimport {Redirect} from \"react-router-dom\";\n\ntype ProfileType = {\n    profile: any\n    status:string\n    updateStatus:any\n}\n\nconst Profile = (props: ProfileType) => {\n\n    return <div>\n        <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\n\n        <MyPostsContainer/>\n    </div>\n\n}\n\nexport default Profile","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport {withAythRedirect} from \"../../hoc/WithAythRedirect\";\r\n\r\n\r\ntype PathParamsType = {\r\n    userId: any\r\n}\r\n\r\ntype mapStatePropsType = {\r\n    profile: number\r\n    status: string\r\n}\r\n\r\n\r\ntype mapDispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getUserStatus: (userId: number) => void\r\n    updateUserStatus: (status: string) => void\r\n}\r\ntype OwnPropsType = mapStatePropsType & mapDispatchPropsType\r\ntype PropsType = RouteComponentProps<PathParamsType> & OwnPropsType\r\n\r\nfunction ProfileContainer(props: PropsType) {\r\n\r\n    let userId = props.match.params.userId\r\n    if (!userId) {\r\n        props.history.push('/users')\r\n    }\r\n    props.getUserProfile(userId)\r\n    props.getUserStatus(userId)\r\n\r\n    return (\r\n        <Profile {...props} profile={props.profile} status={props.status} updateStatus={props.updateUserStatus}/>\r\n    )\r\n}\r\n\r\nlet AuthRedirectComponent = withAythRedirect(ProfileContainer)\r\n\r\n\r\nlet mapStatetoProps = (state: AppStateType): mapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n\r\n})\r\n\r\nlet WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\nexport default connect(mapStatetoProps, {\r\n    getUserProfile, getUserStatus, updateUserStatus\r\n})(WithUrlDataContainerComponent)"],"sourceRoot":""}